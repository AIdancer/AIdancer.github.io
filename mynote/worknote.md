# 项目简记

## OpenAFS状态监控
OpenAFS是一个分布式文件系统。OpenAFS,有着卡耐基梅隆大学的支持,OpenAFS提供有架构,文件共享客户端,服务器,具有只读形式的共享,单个客户端位置的独立性,可扩展,安全,对用户透明共享资源的能力.是一个成熟稳定的文件系统。  
摩根士丹利目前采用该文件系统作为公司内部的公共存储空间，刚开始很瞧不起这个文件系统，毕竟当红炸子鸡是HDFS，后来发现OpenAFS还是有很多优点的，虽然没有HDFS的社区那么好，但是使用过程贴近windows系统，像摩根这种windows资深用户，AFS盘可以看起来像普通磁盘一样挂载到系统里面，用起来着实方便。  
项目涉及点：  
  - C# Socket，实现AFS通信协议(UDP)
  - 通过ping调用测试各个节点网络延迟
  - 通过解析owershell调用结果来获取大摩各OpenAFS节点的具体信息，采集异常问题
  - 生成状态报表，通过C# Winform UI来展示给管理员
  - 相当于一个内部监控工具

## OpenAFS自动化测试
项目涉及点：
  - 一大堆的测试case，C#和C++混搭编程
  - 还有就是C#调用C++代码确实还是蛮和谐的
  - 人生第一次在工作中写BFS哈哈哈，因为有case要递归遍历文件系统，但是AFS居然没有提供这样的API =_=。

## 摩根士丹利自动化运维
嗯，目前来说，这是我在Morgan做的最喜欢的项目了。  
摩根有很多组，每个组有很多的服务，这些服务都需要监控，比如外汇交易部的人把网线踢掉了，你要系统自动打电话给他让他赶紧去修-，-  
做完大概有这么几个点：
  - 前端angular系列
  - 后端C#，Java，powershell，bash，Python混搭
  - 有很多服务巡检脚本，周期性运行（自己实现cron）
  - 每个组要上传他们的脚本（自动检测，自动修复）
  - 然后要上传联系方式（邮箱、电话）
  - 出问题了自动发邮件，然后前端网页可以查看Morgan内部所有服务的状态列表，并存储了所有告警

## 幻方Alpha回测系统
说好的当CTA基金经理呢，怎么一直被安排在quant dev岗位上，而且梁文锋居然不搞CTA了，擦，衰啊。  
全司C++系，还有Python，是我喜欢的技术栈。
目前项目点：
  - Google系C++ package, GFlags, GTest, protobuffer etc.
  - boost
  - 股票Alpha回测，支持daily和minute，需要预估成交量，限制回测成交率
  - 架构还不错，下单用setTarget模式，成交率比实盘高一点，但测试还凑合了；Broker, Trade, Order, Asset, Position各种统计报表生成
  - 因子测试指标很多，各种归因分析代码不少
  - 需要实现各种技术指标，而且代码性能要做到极致，比如能用哈希映射的坚决不让用map，我一个浙大ACM队员都被喷了好几次。。。
  - 期货回测跟股票回测差不多，有些可以复用，但是持仓那里不同（因为不同期货合约的费率，保证金比率，持仓含义都不一样）
  - 纯回测着实无聊，职业路径太窄了

## Spark相关
以前总觉得Spark很厉害，直到我自己部署了Spark，且写了各种业务代码。目前为止，Spark最大的用途就是大屏，其次可以加速许多算法的统计速度。  
主要管理点：  
  - 第一次管人，带三个小朋友做大数据
  - 做了好多次面试官，谦逊很重要啊
  - 自己技术过硬，才能让小朋友尊重
  - 多关心小朋友生活，尽可能在项目中让他们成长，小朋友会更喜欢跟你在一起
  - 该push要push，前期重设计和评审，中期重push，后期重精细迭代和体验优化

主要技术点：
  - Java Spark业务代码，各种map-reduce（执行密集统计计算任务）
  - Python Spark业务代码，各种map-reduce（跟济南市政府大屏相关的都在这里）
  - Java Spring Boot（部分后端接口代码，对外）
  - Python Django（部分后端接口代码，内部项目）

## Flink相关
同上，Flink确实快，流式处理名不虚传，管理界面也比Spark舒服一点。

## 用户画像分析
主要技术点：
  - 能拿用户的五险一金数据，名下房产，车，可以估算用户的资产质量及消费能力
  - 用户的使用偏好分析
  - 使用Spark做用户行为统计，用LRU算法机制将用户常用功能放在首页排序
  - 可以用来监督公司内产品经理，看看他们是否有经常登录检验自己设计的功能
  - 生成用户标签，在做新闻信息推送时，根据用户标签进行过滤，只给可能感兴趣的用户进行通知（济南的本地新闻不可以推给成都用户）

## 基于ES的问答系统
FAQ-Bot，智能问答  
  - 分级标题
  - 文档存储（ES）
  - 如果用户点击各类分集标题索引的话，就给他们递归展开
  - 不点乱输入的话直接ES match，就是这么简单，发现有很多网站的问答系统甚至搜索都是这么做的哈哈哈。

（update 2023-01-31，不是所有的智能问答都是chatGPT）  

## 济南实时公交到站时间预测
居然还申请了专利，我一个字没写就是一作，原创buff哈哈哈。  
主要关键点记录下：  
  - 济南公交集团给出了所有公交线路（每个公交的站点序列），站点坐标，公交实时坐标，公交即时速度v
  - 一辆公交，每到一站就记录到站时间timestamp
  - 这样相邻站点的距离虽然不能直接用坐标位置直接计算，但是delta_t是可以计算的
  - 相同路段会有许多公交，他们最新delta_t的平均值即可代表当下的估算值
  - 不同日期但相同时间段的拥堵情况其实并不一样，对每个路段每天按分钟进行公交运行时间分片
  - 将分片序列输入LSTM模型，预测当前时间当前路段公交运行时间的估计值P
  - 最终预测到站时间 T = [P * (1 - alpha) + delta_t * alpha] * (|公交位置-终点站| / |终点站-始发站|)   

当然具体开发过程中的细节还有很多，我就不在这里一一赘述了，有兴趣的可以发邮件给我。

## 文财私募基金回测平台
没太多想说的，基本复现了幻方的回测平台，只是数据上有好多欠缺。  
(2019-12-06 update)老板不懂量化真的很蛋疼。  
(2020-2-20 update)招人了，预估要带5人团队。  
主要技术点：
  - C++/Python
  - ES做股票tag数据库，方便做概念检索


## 文财私募基金交易系统
彻底优化了自己的交易系统。  
主要技术点：
  - C++ （CTP和今古科技股票API都是C++）
  - Mariadb
  - Redis
  - Python
  - Flask（用于资产监控后端）
  - React、AdminLTE（前端，用于资产监控前端，部分半自动及事件驱动交易信号监控）


## 国标资产股票交易系统
中泰XTP是真的好用啊，C++系列Nice。  

## 量化策略开发
本部分涉及核心机密，就不公开了，总体上来说：
  - **Linear模型用好其实已经很香了**
  - LGBM和XGBoost都很好用
  - Pytorch不错，相比MLP、CNN和LSTM，我更喜欢TabNet
  - **蒙特卡洛搜索+遗传算法，再用优先队列优化一下，去做组合优化简直牛逼，是目前我找到的最强Reinforcement Learning模式。**
  - 投资经理的经验是任何模型都无法代替的，黑天鹅面前，富有经验的船长胜过所有overfitting。
  - **无意中发现自己已经写了200多个因子**


## 监控平台开发
浪潮信息的IncloudOS，私有云平台（基于Kubernetes和OpenStack），其监控系统目前涉及技术如下：
  - Prometheus（update 2023-02-10，将来所有数据都会切换到Prometheus）
  - telegraf（各类采集脚本开发）
  - influxdb（时序数据存储）
  - grafana（用于数据展示）
  - Python Flask（后端API，定时巡检任务开发）
  - Go（Prometheus exporter编写）
  - 日志异常检测
    - 正则表达式检测
    - 异常词检测（异常词加权，核心算法为Aho-Corasick automaton（AC-自动机） + 动态规划）
  - 指标异常检测
    - 3-Sigma
  - 微服务调用链异常检测
    - 图同构判定
    - 图压缩存储（正向表转bytes）
  - 磁盘故障预测
    - Python，Pytorch，MLP，ResidualNet，XGBoost
    - 该项目已成功发表至国际会议ICMLC 2023（2023 15th International Conference on Machine Learning and Computing），本人一作，论文名称为《A Disk Failure Prediction Algorithm Based on Fusion Model》，并获得会议best presentation奖项。


## 基于语义的智能问答系统
OpenAI崛起，人工智能时代大幕拉开。  
涉及技术点：
  - Pytorch，Transformer
  - 汉语分词，Jieba分词库（DAG，动态规划，Vertibe算法）
  - TF-IDF表示
  - 词向量表示：word2vec，gesim
  - 语句向量表示：sentence-transformer，sbert
  - dense vector高速检索：Faiss
  - 通过自然语言判断用户意图（分词+专家规则）
  - Flask（后端问答服务API编写）
  - elasticsearch
  - 其他FAQ-Bot相关算法
